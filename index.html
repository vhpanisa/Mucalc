<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8"> 
	<title>	Calc Mu C.A</title>
	<link rel="stylesheet" href="mucalc.css">
	<script type="text/javascript">
		var $ = function( id ) { return document.getElementById( id ); };
		function addTab(){
			var newTabID = $('tabs').getElementsByTagName('section').length;
			newTabID = 'tab' + (newTabID+1);
			var tabs = $("tabs");
			var newTab = document.createElement("section");
			newTab.id = newTabID;
			newTab.innerHTML =
			[
			'<h2><a href="',
			'#' + newTabID,
			'">',
			'Tab 1',
			'</a></h2>',
			'<p>This content appears on tab 2.</p>',
			].join('\n');
			tabs.appendChild(newTab);
		}

		function refresh(){
			var str = +$('aStr').value;
			var agi = +$('aAgi').value;
			var vit = +$('aVit').value;
			var ene = +$('aEne').value;
			var lvl = +$('aLevel').value;
			var hp = 30+(lvl-1)+vit*2;
			var mp = (lvl-1)*2+ene*2;
			var def = (agi/4) | 0;
			var speed = (agi/10) | 0;
			var sd = ((str+agi+vit+ene) * 1.2 + def / 2 + lvl*lvl/ 30) | 0;
			var pvmdr = (agi/3) | 0;
			var pvmar = (lvl*5+(agi*3)/2+str/4) | 0;
			var pvpdr = (lvl*2+agi*0.25) | 0;
			var pvpar = (lvl*3+agi*4) | 0;

			$('oMinDmg').value = (ene / 9) | 0;
			$('oMaxDmg').value = (ene / 4) | 0;
			$('oHP').value = hp;
			$('oMP').value = mp;
			$('oSD').value = sd;
			$('oDef').value = def;
			$('oSpeed').value = speed;
			$('oPvmDr').value = pvmdr;
			$('oPvmAr').value = pvmar;
			$('oPvpDr').value = pvpdr;
			$('oPvpAr').value = pvpar;
		}
	</script>
</head>
<body>
	<div style="display:none">
		<input list="browsers" name="classe">
		<datalist id="browsers">
			<option value="BK"/>
			<option value="SM"/>
			<option value="ME"/>
			<option value="MG"/>
			<option value="DL"/>
		</datalist>
		<input type="submit" value="Adicionar" onclick="addTab()" />
	</div>
	<article class="tabs" id="tabs">
		<section id="tab1">
			<h2><a href="#tab1">SM</a></h2>
			<fieldset>
				<legend>Atributos</legend>
				<table>
					<tr>
						<td>Level</td><td><input id="aLevel" type="text"></td>
					</tr>
					<tr>
						<td>Força</td><td><input id="aStr" type="text"></td>
					</tr>
					<tr>
						<td>Agilidade</td><td><input id="aAgi" type="text"></td>
					</tr>
					<tr>
						<td>Vitalidade</td><td><input id="aVit" type="text"></td>
					</tr>
					<tr>
						<td>Energia</td><td><input id="aEne" type="text"></td>
					</tr>
				</table>
				<input type="submit" onclick="refresh()">
			</fieldset>
			<fieldset>
				<legend>Output</legend>
				<table>
					<tr>
						<td>Wiz Dmg Mínimo</td><td>Wiz Dmg Máximo</td>
					</tr>
					<tr>
						<td><input id="oMinDmg" type="text" disabled="true" /></td>
						<td><input id="oMaxDmg" type="text" disabled="true" /></td>
					</tr>
					<tr>
						<td>SD</td><td><input id="oSD" type="text" disabled="true"></td>
					</tr>
					<tr>
						<td>HP</td><td><input id="oHP" type="text" disabled="true"></td>
					</tr>
					<tr>
						<td>MP</td><td><input id="oMP" type="text" disabled="true"></td>
					</tr>
					<tr>
						<td>Velocidade de Ataque</td><td><input id="oSpeed" type="text" disabled="true"></td>
					</tr>
					<tr>
						<td>Defesa</td><td><input id="oDef" type="text" disabled="true"></td>
					</tr>
					<tr>
						<td>Taxa de Defesa(PvM)</td><td><input id="oPvmDr" type="text" disabled="true"></td>
					</tr>
					<tr>
						<td>Taxa de Ataque(PvM)</td><td><input id="oPvmAr" type="text" disabled="true"></td>
					</tr>
					<tr>
						<td>Taxa de Defesa(PvP)</td><td><input id="oPvpDr" type="text" disabled="true"></td>
					</tr>
					<tr>
						<td>Taxa de Ataque(PvP)</td><td><input id="oPvpAr" type="text" disabled="true"></td>
					</tr>
				</tr>
			</table>
		</fieldset>			
	</section>
</article>
</body>
</html>